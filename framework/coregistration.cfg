files :
{
    fixed       : { comment : "", path : "/home/pmajka/Dropbox/Photos/oposy_skrawki/02_02_NN2/02_02_NN2_mri.nii.gz" },
    fixed_mask  : { comment : "", path : "/home/pmajka/Dropbox/Photos/oposy_skrawki/02_02_NN2/mri_registration_mask.nii.gz" },
    fixed_seg   : { comment : "", path : "/home/pmajka/Dropbox/Photos/oposy_skrawki/02_02_NN2/mri_registration_seg.nii.gz" },
    moving      : { comment : "", path : "/home/pmajka/Dropbox/Photos/oposy_skrawki/02_02_NN2/nissl.nii.gz" }, 
    moving_mask : { comment : "", path : "/home/pmajka/Dropbox/Photos/oposy_skrawki/02_02_NN2/nissl_registration_mask.nii.gz" },
    moving_seg  : { comment : "", path : "/home/pmajka/Dropbox/Photos/oposy_skrawki/02_02_NN2/nissl_registration_seg.nii.gz" },
    fixed_multiplier : { comment : "", path : "/home/pmajka/Dropbox/Photos/oposy_skrawki/02_02_NN2/02_02_NN2_mri_mask_histology_multiplier_straight.nii.gz" }
}

parameters :
{
    output_spacing : [0.1, 0.1, 0.1],
    use_region_definition : False,
    initial_affine : "",
    initial_deformable : "",
    backup_dir : "/home/pmajka/possum/data/02_02_NN2/74_deformable_multimodal_registration/"
}

iterations :
[
 {
    transformation : ["SyN", [0.35]],
    regularization : ["Gauss", [0, 0]],
    iterations : [1000, 1000],
    smoothing : None,
    fixed_image_mask : 'moving_mask',
    all_metrics_converge : False,
    metrics :
        [
            {type : "PSE",
                fixed_image  : 'fixed',
                moving_image : 'moving',
                fixed_points : 'fixed_seg',
                fixed_replacement : [[4, 0], [2, 0], [104, 6]],
                moving_points : 'moving_seg',
                moving_replacement : [[4, 0], [2, 0], [104, 6]],
                weight : 1.0,
                point_set_percentage : 1.0,
                point_set_sigma : None,
                boundary_points_only : None
            },

            {type : "I",
                kind : "MSQ",
                fixed_image : 'fixed_mask',
                moving_image : 'moving_mask'
                weight : 1.0,
                parameter : 5
            }

            {type : "I",
                kind         : "CC",
                fixed_image  : 'fixed'
                moving_image : 'moving'
                weight : 0.0,
                parameter : 5
            }
        ]
 }

 {
    transformation : ["SyN", [0.35]],
    regularization : ["Gauss", [0, 0]],
    iterations : [1000, 1000],
    smoothing : [0.1, 0],
    fixed_image_mask : 'moving_mask',
    all_metrics_converge : True,
    metrics :
    [
        {type : "PSE",
            fixed_image : 'fixed',
            moving_image : 'moving',
            fixed_points : 'fixed_seg',
            fixed_replacement : [[4, 0], [2, 0], [104, 6]],
            moving_points : 'moving_seg',
            moving_replacement : [[4, 0], [2, 0], [104, 6]],
            weight : 1.0,
            point_set_percentage : 1.0,
            point_set_sigma : None,
            boundary_points_only : False 
        },

        {type : "I",
            kind : "MSQ",
            fixed_image : 'fixed_mask',
            moving_image : 'moving_mask'
            weight : 0.0,
            parameter : 5
        }

        {type : "I",
            kind : "CC",
            fixed_image :  'fixed'
            moving_image : 'moving'
            weight : 0.5,
            parameter : 5
        }
    ]
 }

 {
    transformation : ["SyN", [0.35]],
    regularization : ["Gauss", [0, 0]],
    iterations : [1000, 1000],
    smoothing : [0.1, 0],
    fixed_image_mask : 'moving_mask',
    all_metrics_converge : True,
    metrics :
    [
        {type : "PSE",
            fixed_image : 'fixed',
            moving_image : 'moving',
            fixed_points : 'fixed_seg',
            fixed_replacement : [[4, 0], [2, 0], [104, 6]],
            moving_points : 'moving_seg',
            moving_replacement : [[4, 0], [2, 0], [104, 6]],
            weight : 1.0,
            point_set_percentage : 1.0,
            point_set_sigma : None,
            boundary_points_only : False 
        },

        {type : "I",
            kind : "MSQ",
            fixed_image  : 'fixed_mask'
            moving_image : 'moving_mask'
            weight : 0.0,
            parameter : 5
        }

        {type : "I",
            kind : "CC",
            fixed_image  : 'fixed'
            moving_image : 'moving'
            weight : 0.5,
            parameter : 5
        }
    ]
 }

 {
    transformation : ["SyN", [0.25]],
    regularization : ["Gauss", [0, 0.1]],
    iterations : [1000],
    smoothing : [0],
    fixed_image_mask : 'moving_mask',
    all_metrics_converge : True,
    metrics :
    [
        {type : "PSE",
            fixed_image : 'fixed',
            moving_image : 'moving',
            fixed_points : 'fixed_seg',
            fixed_replacement : [[4, 0], [2, 0], [104, 6]],
            moving_points : 'moving_seg',
            moving_replacement : [[4, 0], [2, 0], [104, 6]],
            weight : 1.0,
            point_set_percentage : 1.0,
            point_set_sigma : None,
            boundary_points_only : False 
        },

        {type : "I",
            kind : "MSQ",
            fixed_image  : 'fixed_mask'
            moving_image : 'moving_mask'
            weight : 0.0,
            parameter : 5
        }

        {type : "I",
            kind : "CC",
            fixed_image  : 'fixed'
            moving_image : 'moving'
            weight : 0.5,
            parameter : 5
        }
    ]
 }

 {
    transformation : ["SyN", [0.25]],
    regularization : ["Gauss", [0, 0.1]],
    iterations : [1000],
    smoothing : [0],
    fixed_image_mask : 'fixed_mask',
    all_metrics_converge : True,
    metrics :
    [
        {type : "PSE",
            fixed_image : 'fixed',
            moving_image : 'moving',
            fixed_points : 'fixed_seg',
            fixed_replacement : [[4, 0], [2, 0], [104, 6]],
            moving_points : 'moving_seg',
            moving_replacement : [[4, 0], [2, 0], [104, 6]],
            weight : 1.0,
            point_set_percentage : 1.0,
            point_set_sigma : None,
            boundary_points_only : False 
        },

        {type : "I",
            kind : "MSQ",
            fixed_image  : 'fixed_mask'
            moving_image : 'moving_mask'
            weight : 0.0,
            parameter : 5
        }

        {type : "I",
            kind : "CC",
            fixed_image  : 'fixed'
            moving_image : 'moving'
            weight : 0.5,
            parameter : 5
        }
    ]
 }

 {
    transformation : ["SyN", [0.25]],
    regularization : ["Gauss", [0, 0.1]],
    iterations : [1000],
    smoothing : [0],
    fixed_image_mask : 'moving_mask',
    all_metrics_converge : True,
    metrics :
    [
        {type : "PSE",
            fixed_image : 'fixed',
            moving_image : 'moving',
            fixed_points : 'fixed_seg',
            fixed_replacement : [[4, 0], [2, 0], [104, 6]],
            moving_points : 'moving_seg',
            moving_replacement : [[4, 0], [2, 0], [104, 6]],
            weight : 1.0,
            point_set_percentage : 1.0,
            point_set_sigma : None,
            boundary_points_only : False 
        },

        {type : "I",
            kind : "MSQ",
            fixed_image  : 'fixed_mask'
            moving_image : 'moving_mask'
            weight : 0.0,
            parameter : 5
        }

        {type : "I",
            kind : "CC",
            fixed_image  : 'fixed'
            moving_image : 'moving'
            weight : 0.5,
            parameter : 5
        }
    ]
 }

]
